import{__awaiter as t}from"../../node_modules/tslib/tslib.es6.js";import{Hub as e,DataStore as o}from"aws-amplify";import{UI_CHANNEL as s,ACTION_DATASTORE_DELETE_STARTED as i,EVENT_ACTION_DATASTORE_DELETE as d,ACTION_DATASTORE_DELETE_FINISHED as r}from"./constants.js";import{getErrorMessage as a}from"../../helpers/utils.js";import{AMPLIFY_SYMBOL as m}from"../../helpers/constants.js";const p=({model:p,id:n})=>()=>t(void 0,void 0,void 0,(function*(){try{e.dispatch(s,{event:i,data:{id:n}},d,m),yield o.delete(p,n),e.dispatch(s,{event:r,data:{id:n}},d,m)}catch(t){e.dispatch(s,{event:r,data:{id:n,errorMessage:a(t)}},d,m)}}));export{p as useDataStoreDeleteAction};
