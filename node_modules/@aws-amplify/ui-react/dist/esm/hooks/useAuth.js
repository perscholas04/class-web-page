import*as e from"react";import t from"@aws-amplify/auth";import{Hub as r}from"@aws-amplify/core";const s=()=>{const[s,a]=e.useState({error:void 0,isLoading:!0,user:void 0}),i=({payload:e})=>{switch(e.event){case"signIn":return a({user:e.data,isLoading:!1});case"signOut":return a({isLoading:!1})}},o=()=>(a({isLoading:!0}),t.currentAuthenticatedUser().then((e=>a({user:e,isLoading:!1}))).catch((e=>a({error:e,isLoading:!1}))),r.listen("auth",i),()=>r.remove("auth",i));return e.useEffect(o,[]),Object.assign(Object.assign({},s),{fetch:o})};export{s as useAuth};
