import{__rest as e}from"../../node_modules/tslib/tslib.es6.js";import{jsxs as s,jsx as a}from"react/jsx-runtime";import*as t from"react";import o from"classnames";import{ComponentClassNames as d}from"../shared/constants.js";import{Flex as i}from"../Flex/Flex.js";import"../Icon/Icon.js";import"../View/View.js";import{IconCheck as c}from"../Icon/icons/IconCheck.js";import{Input as l}from"../Input/Input.js";import{splitPrimitiveProps as r}from"../shared/styleUtils.js";import{Text as n}from"../Text/Text.js";import{useCheckbox as m}from"./useCheckbox.js";import{VisuallyHidden as b}from"../VisuallyHidden/VisuallyHidden.js";import{useTestId as h}from"../utils/testUtils.js";const p=t.forwardRef(((p,u)=>{var{checked:f,className:k,defaultChecked:C,hasError:x,isDisabled:j,label:I,labelHidden:g,labelPosition:y,onChange:N,size:F,testId:H}=p,V=e(p,["checked","className","defaultChecked","hasError","isDisabled","label","labelHidden","labelPosition","onChange","size","testId"]);const{baseStyleProps:B,flexContainerStyleProps:D,rest:O}=r(V),P=void 0!==f?f:C,{dataChecked:v,dataFocus:w,onBlur:z,onChange:E,onFocus:L,setDataChecked:S}=m(P,N);t.useEffect((()=>{void 0!==f&&f!==v&&S(f)}),[f,v,S]);const T=h(H,d.CheckboxButton),U=h(H,d.CheckboxIcon),R=h(H,d.CheckboxLabel);return s(i,Object.assign({as:"label",className:o(d.Checkbox,k),"data-disabled":j,"data-label-position":y,testId:H},B,D,{children:[a(b,{children:a(l,Object.assign({checked:f,className:d.CheckboxInput,defaultChecked:C,isDisabled:j,onBlur:z,onChange:E,onFocus:L,ref:u,type:"checkbox"},O))}),I&&a(n,Object.assign({as:"span",className:o(d.CheckboxLabel,{[d.VisuallyHidden]:g}),"data-disabled":j,testId:R},{children:I})),a(i,Object.assign({"aria-hidden":"true",as:"span",className:d.CheckboxButton,"data-checked":v,"data-disabled":j,"data-focus":w,"data-error":x,testId:T},{children:a(c,{className:d.CheckboxIcon,"data-checked":v,"data-disabled":j,"data-testid":U,size:F})}))]}))}));p.displayName="Checkbox";export{p as Checkbox};
