import{jsx as e,Fragment as i,jsxs as t}from"react/jsx-runtime";import{getActorContext as r,translate as o,defaultFormFieldOptions as n,censorPhoneNumber as s,censorAllButFirstAndLast as a}from"@aws-amplify/ui";import{Heading as m}from"../../../primitives/Heading/Heading.js";import{Radio as l}from"../../../primitives/Radio/Radio.js";import{RadioGroupField as d}from"../../../primitives/RadioGroupField/RadioGroupField.js";import{useAuthenticator as c}from"../hooks/useAuthenticator/index.js";import{useCustomComponents as f}from"../hooks/useCustomComponents/index.js";import{useFormHandlers as u}from"../hooks/useFormHandlers/useFormHandlers.js";import{RemoteErrorMessage as p}from"../shared/RemoteErrorMessage.js";import{TwoButtonSubmitFooter as h}from"../shared/TwoButtonSubmitFooter.js";const b=(e,i)=>{const t=o(e);let r=i;if("Phone Number"===e)r=s(i);else if("Email"===e){const e=i.split("@");r=`${a(e[0])}@${e[1]}`}return`${t}: ${r}`},j=i=>{const t=[];for(const[r,o]of Object.entries(i)){const i=e(l,Object.assign({name:"unverifiedAttr",value:r},{children:b(n[r].label,o)}),r);t.push(i)}return t},y=()=>{const{components:{VerifyUser:{Header:n=y.Header,Footer:s=y.Footer}}}=f(),{_state:a,isPending:m}=c((e=>[e.isPending])),{handleChange:l,handleSubmit:b}=u(),g=r(a),v=e(i,m?{children:"Verifyingâ€¦"}:{children:o("Verify")}),x=e(d,Object.assign({label:o("Verify Contact"),labelHidden:!0,name:"verify_context",isDisabled:m},{children:j(g.unverifiedAttributes)}));return e("form",Object.assign({"data-amplify-form":"","data-amplify-authenticator-verifyuser":"",method:"post",onChange:l,onSubmit:b},{children:t("fieldset",Object.assign({style:{display:"flex",flexDirection:"column"},className:"amplify-flex",disabled:m},{children:[e(n,{}),x,e(p,{}),e(h,{cancelButtonText:o("Skip"),cancelButtonSendType:"SKIP",submitButtonText:v}),e(s,{})]}))}))};y.Header=()=>e(m,Object.assign({level:3},{children:o("Account recovery requires verified contact information")})),y.Footer=()=>null;export{y as VerifyUser};
