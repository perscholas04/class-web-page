import{__assign as n}from"../node_modules/tslib/tslib.es6.js";import t from"style-dictionary/lib/utils/deepExtend";import o from"style-dictionary/lib/utils/flattenProperties";import{defaultTheme as a}from"./defaultTheme.js";import{cssValue as e,cssNameTransform as r}from"./utils.js";function c(n,t){void 0===t&&(t=[]);var o={};if(n.hasOwnProperty("value"))return function(n,t){var o="--".concat(r({path:t})),a=n.value;return{name:o,path:t,value:e(n),original:a,toString:function(){return"var(".concat(o,")")}}}(n,t);for(var a in n)n.hasOwnProperty(a)&&(o[a]=c(n[a],t.concat(a)));return o}function i(e,r){void 0===r&&(r=a);var i=t([{},r,e]),m=c(i.tokens),l=i.breakpoints,s=i.name,d='[data-amplify-theme="'.concat(s,'"] {\n')+o(m).map((function(n){return"".concat(n.name,": ").concat(n.value,";")})).join("\n")+"\n}\n",p=[];return i.overrides&&(p=i.overrides.map((function(t){var a=c(t.tokens),e=o(a).map((function(n){return"".concat(n.name,": ").concat(n.value,";")})).join("\n");if("selector"in t&&(d+="\n".concat(t.selector," {\n").concat(e,"\n}\n")),"mediaQuery"in t&&(d+="\n@media (".concat(t.mediaQuery,') {\n  [data-amplify-theme="').concat(s,'"] {\n    ').concat(e,"\n  }\n}\n")),"breakpoint"in t){var r=i.breakpoints.values[t.breakpoint];d+="\n@media (min-width: ".concat(r,'px) {\n  [data-amplify-theme="').concat(s,'"] {\n    ').concat(e,"\n  }\n}\n")}return"colorMode"in t&&(d+="\n@media (prefers-color-scheme: ".concat(t.colorMode,') {\n          [data-amplify-theme="').concat(s,'"][data-amplify-color-mode="system"] {\n').concat(e,"\n}\n        }\n"),d+='\n[data-amplify-theme="'.concat(s,'"][data-amplify-color-mode="').concat(t.colorMode,'"] {\n').concat(e,"\n}\n")),n(n({},t),{tokens:a})}))),{tokens:m,breakpoints:l,name:s,cssText:d,overrides:p}}export{i as createTheme};
