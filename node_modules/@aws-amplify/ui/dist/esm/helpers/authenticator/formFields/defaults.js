import{__assign as o,__spreadArray as r}from"../../../node_modules/tslib/tslib.es6.js";import{getActorState as e,getActorContext as n}from"../actor.js";import{getPrimaryAlias as t}from"../context.js";import{defaultFormFieldOptions as s}from"../constants.js";import{isAuthFieldWithDefaults as a}from"../form.js";import"aws-amplify";import"lodash/cloneDeep";import"../../../i18n/translations.js";var i=function(r,e){var t=n(r).country_code,a=s[e];return"tel"===a.type&&(a=o(o({},a),{dialCode:t})),a},c=function(r){var e=t(r);return o(o({},i(r,e)),{autocomplete:"username"})},d=function(r){return{confirmation_code:o(o({},i(r,"confirmation_code")),{label:"Code *",placeholder:"Code"})}},m={signIn:function(r){return{username:o({},c(r)),password:o(o({},i(r,"password")),{autocomplete:"current-password"})}},signUp:function(e){for(var n=e.context.config,s=n.loginMechanisms,d=n.signUpAttributes,m=t(e),l={},u=0,f=Array.from(new Set(r(r(r([],s,!0),["password","confirm_password"],!1),d,!0)));u<f.length;u++){var p=f[u];if(a(p)){var w=p===m?c(e):i(e,p);l[p]=o({},w)}else console.debug("Authenticator does not have a default implementation for ".concat(p,". Customize SignUp FormFields to add your own."))}return l},confirmSignUp:function(r){return{confirmation_code:o(o({},i(r,"confirmation_code")),{placeholder:"Enter your code"})}},confirmSignIn:d,forceNewPassword:function(n){for(var t=e(n).context.requiredAttributes,s={},c=0,d=Array.from(new Set(r(["password","confirm_password"],t,!0)));c<d.length;c++){var m=d[c];a(m)?s[m]=o({},i(n,m)):console.debug("Authenticator does not have a default implementation for ".concat(m,". Customize ForceNewPassword FormFields to add your own."))}return s},resetPassword:function(r){var e=t(r),n=s[e].label;return{username:o(o({},c(r)),{label:"Enter your ".concat(n.toLowerCase()),placeholder:"Enter your ".concat(n.toLowerCase())})}},confirmResetPassword:function(r){return o(o({},d(r)),{password:o(o({},i(r,"password")),{label:"New Password",placeholder:"New Password"}),confirm_password:o(o({},i(r,"confirm_password")),{label:"Confirm Password",placeholder:"Confirm Password"})})},confirmVerifyUser:d,setupTOTP:d};export{m as defaultFormFieldsGetters};
