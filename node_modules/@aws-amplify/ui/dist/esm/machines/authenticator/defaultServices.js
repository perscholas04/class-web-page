import{__awaiter as n,__generator as r}from"../../node_modules/tslib/tslib.es6.js";import{Amplify as t,Auth as i}from"aws-amplify";var o={getAmplifyConfig:function(){return n(this,void 0,void 0,(function(){return r(this,(function(n){return[2,t.configure()]}))}))},getCurrentUser:function(){return n(this,void 0,void 0,(function(){return r(this,(function(n){return[2,i.currentAuthenticatedUser()]}))}))},handleSignUp:function(t){return n(this,void 0,void 0,(function(){return r(this,(function(n){return[2,i.signUp(t)]}))}))},handleSignIn:function(t){var o=t.username,s=t.password;return n(this,void 0,void 0,(function(){return r(this,(function(n){return[2,i.signIn(o,s)]}))}))},handleConfirmSignIn:function(t){var o=t.user,s=t.code,e=t.mfaType;return n(this,void 0,void 0,(function(){return r(this,(function(n){return[2,i.confirmSignIn(o,s,e)]}))}))},handleConfirmSignUp:function(t){var o=t.username,s=t.code;return n(this,void 0,void 0,(function(){return r(this,(function(n){switch(n.label){case 0:return[4,i.confirmSignUp(o,s)];case 1:return[2,n.sent()]}}))}))},handleForgotPasswordSubmit:function(t){var o=t.username,s=t.code,e=t.password;return n(this,void 0,void 0,(function(){return r(this,(function(n){return[2,i.forgotPasswordSubmit(o,s,e)]}))}))},handleForgotPassword:function(t){return n(this,void 0,void 0,(function(){return r(this,(function(n){return[2,i.forgotPassword(t)]}))}))},validateCustomSignUp:function(t,i){return n(this,void 0,void 0,(function(){return r(this,(function(n){return[2]}))}))},validateFormPassword:function(t,i,o){return n(this,void 0,void 0,(function(){var n,s,e,u;return r(this,(function(r){return n=t.password,i.password&&o?(s=[],e=+(null==o?void 0:o.passwordPolicyMinLength),n.length<e&&s.push("Password must have at least ".concat(e," characters")),null==(u=null==o?void 0:o.passwordPolicyCharacters)||u.forEach((function(r){switch(r){case"REQUIRES_LOWERCASE":/[a-z]/.test(n)||s.push("Password must have lower case letters");break;case"REQUIRES_UPPERCASE":/[A-Z]/.test(n)||s.push("Password must have upper case letters");break;case"REQUIRES_NUMBERS":/[0-9]/.test(n)||s.push("Password must have numbers");break;case"REQUIRES_SYMBOLS":/[\W]/.test(n)||s.push("Password must have special characters")}})),[2,0!==s.length?{password:s}:null]):[2,null]}))}))},validateConfirmPassword:function(t,i){return n(this,void 0,void 0,(function(){var n,o,s,e;return r(this,(function(r){return n=t.password,o=t.confirm_password,s=i.confirm_password,e=i.password,n||o?(n||o)&&n!==o&&(s&&e||(null==n?void 0:n.length)>=6&&(null==o?void 0:o.length)>=6)?[2,{confirm_password:"Your passwords must match"}]:[2]:[2,null]}))}))},validatePreferredUsername:function(t,i){return n(this,void 0,void 0,(function(){return r(this,(function(n){return[2]}))}))}};export{o as defaultServices};
